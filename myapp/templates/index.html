{% extends 'base.html' %}
{% load static i18n %}

{% block title %}{% trans "Trang Chủ" %} - Wecamp Cafe Retreat{% endblock %}

{% block content %}

  <!-- Travel Hero Section -->
  <section id="travel-hero" class="travel-hero section dark-background">

    <div id="booking-form-wrapper" class="hero-background">
      <video autoplay="" muted="" loop="">
        <source src="{% static 'assets/img/travel/index2.mp4' %}" type="video/mp4">
      </video>
      <div class="hero-overlay"></div>
    </div>

    <div class="container position-relative">
      <div class="row align-items-center">
        <div class="col-lg-7">
          <div class="hero-text" data-aos="fade-up" data-aos-delay="100">
            <h1 class="hero-title">{% trans "KHU CAFE BÊN SUỐI LỚN NHẤT BẢN TẢ VAN SAPA" %}</h1>
            <p class="hero-subtitle">{% trans "Wecamp Cafe Retreat, tổ hợp cafe và ăn uống lớn nhất Bản Tả Van, Sapa, nằm bên dòng suối thơ mộng, mang đến trải nghiệm thư giãn giữa thiên nhiên xanh mát. Ngoài thưởng thức cà phê và các bữa ăn sáng, trưa, tối đậm chất địa phương, Wecamp còn cung cấp dịch vụ Nghỉ Dưỡng theo giờ, ngâm chân thảo mộc thư giãn, vẽ tranh tô tượng sáng tạo, và tổ chức các tour trekking. Mở cửa từ 7h30 đến 19h30, đây là điểm đến lý tưởng cho mọi du khách muốn tận hưởng không gian độc đáo và đa dạng hoạt động!" %}</p>
            <div class="hero-buttons">
              <a href="{% url 'gallery' %}" class="btn btn-explore me-3">{% trans "Khám Phá Ngay" %}</a>
              <a href="{% url 'tent' %}" class="btn btn-outline">{% trans "Xem Các Dịch Vụ" %}</a>
            </div>
          </div>
        </div>

        <div class="col-lg-5">
          <div class="booking-form-wrapper" data-aos="fade-left" data-aos-delay="200">
            <div class="booking-form">
              <h3 class="form-title">{% trans "Đặt Bàn Ngay" %}</h3>
              <form action="{% url 'booking_submit' %}" method="post" class="booking-form-custom">
                {% csrf_token %}
                <div class="form-group mb-3">
                  <label for="name">{% trans "Họ & Tên *" %}</label>
                  <input type="text" name="name" id="name" class="form-control" placeholder="{% trans 'Nguyễn Văn A' %}" required>
                </div>

                <div class="form-group mb-3">
                  <label for="email">{% trans "Email *" %}</label>
                  <input type="email" name="email" id="email" class="form-control" placeholder="{% trans 'you@example.com' %}" required>
                </div>

                <div class="form-group mb-3">
                  <label for="phone">{% trans "Số điện thoại *" %}</label>
                  <input type="tel" name="phone" id="phone" class="form-control" placeholder="{% trans '0901234567' %}" required>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <label for="date">{% trans "Ngày *" %}</label>
                      <input type="date" name="date" id="date" class="form-control" required>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group mb-3">
                      <label for="people">{% trans "Số lượng người *" %}</label>
                      <input 
                        type="number" 
                        name="people" 
                        id="people" 
                        class="form-control" 
                        min="1" 
                        max="999" 
                        placeholder="{% trans 'Ví dụ: 5' %}" 
                        required 
                        oninput="validity.valid||(value='');"
                      >
                      <small class="text-muted">{% trans "Tối thiểu 1 người" %}</small>
                    </div>
                  </div>
                </div>

                <div class="form-group mb-4">
                  <label for="service">{% trans "Dịch vụ *" %}</label>
                  <select name="service" id="service" class="form-select" required>
                    <option value="">{% trans "Chọn dịch vụ" %}</option>
                    <option value="meal">{% trans "Nhà Hàng" %}</option>
                    <option value="coffee">{% trans "Đồ Uống" %}</option>
                    <option value="herbal_foot_soak">{% trans "Ngâm chân thảo mộc" %}</option>
                    <option value="tent_rental">{% trans "Nghỉ Dưỡng" %}</option>
                    <option value="art_activity">{% trans "Vẽ tranh & tô tượng" %}</option>
                    <option value="other">{% trans "Khác" %}</option>
                  </select>
                </div>

                <button type="submit" class="btn btn-explore w-100 d-flex justify-content-center align-items-center">
                  {% trans "Gửi Thông Tin Đặt Bàn" %}
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

  </section><!-- /Travel Hero Section -->

  <!-- Why Us Section -->
  <section id="why-us" class="why-us section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <!-- About Us Content -->
      <div class="row align-items-center mb-5">
        <div class="col-lg-6" data-aos="fade-right" data-aos-delay="200">
          <div class="content">
            <h3>{% trans "Thư Giãn Giữa Thiên Nhiên" %}</h3>
            <p>{% trans "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat." %}</p>
            <p>{% trans "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum." %}</p>
            <div class="stats-row">
              <div class="stat-item">
                <span data-purecounter-start="0" data-purecounter-end="200000" data-purecounter-duration="2" class="purecounter">0</span> <span>+</span>
                <div class="stat-label">{% trans "Khách Hàng Hài Lòng" %}</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6" data-aos="fade-left" data-aos-delay="300">
          <div class="about-image">
            <img src="{% static 'assets/img/travel/khu_choi.jpg' %}" alt="{% trans 'Trải nghiệm du lịch' %}" class="img-fluid rounded-4">
            <div class="experience-badge">
              <div class="experience-number">> 4</div>
              <div class="experience-text">{% trans "Năm Hoạt Động" %}</div>
            </div>
          </div>
        </div>
      </div><!-- End About Us Content -->

      <!-- Why Choose Us -->
      <div class="why-choose-section">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center mb-5" data-aos="fade-up" data-aos-delay="100">
            <h3>{% trans "Bạn sẽ nhận lại gì khi tới Wecamp Cafe Retreat ?" %}</h3>
            <p>{% trans "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris." %}</p>
          </div>
        </div>

        <div class="row g-4">
          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-people-fill"></i>
              </div>
              <h4>{% trans "Ẩm Thực Đa Dạng" %}</h4>
              <p>{% trans "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium totam." %}</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="250">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-shield-check"></i>
              </div>
              <h4>{% trans "An Toàn & Bảo Mật" %}</h4>
              <p>{% trans "At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum." %}</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-cash"></i>
              </div>
              <h4>{% trans "Giá Tốt Nhất" %}</h4>
              <p>{% trans "Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet consectetur adipisci velit." %}</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="350">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-headset"></i>
              </div>
              <h4>{% trans "Hỗ Trợ 24/7" %}</h4>
              <p>{% trans "Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam nisi." %}</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="400">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-geo-alt-fill"></i>
              </div>
              <h4>{% trans "Điểm Đến Toàn Cầu" %}</h4>
              <p>{% trans "Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae." %}</p>
            </div>
          </div>

          <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="450">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="bi bi-star-fill"></i>
              </div>
              <h4>{% trans "Trải Nghiệm Cao Cấp" %}</h4>
              <p>{% trans "Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim." %}</p>
            </div>
          </div>
        </div><!-- End Features Grid -->
      </div><!-- End Why Choose Us -->

    </div>

  </section><!-- /Why Us Section -->

  <!-- COMBO PROMO SLIDER -->
  <section class="section py-5 bg-light">
    <div class="container">
      <div class="container section-title" data-aos="fade-up">
        <h2>{% trans "SIÊU ƯU ĐÃI" %}</h2>
        <div><span>{% trans "Khám Phá Các Combo Siêu Ưu Đãi Tại" %}</span> <span class="description-title">Wecamp Cafe Retreat</span></div>
      </div>

      {% if combos %}
        {% include 'components/_combo_slider.html' %}
      {% else %}
        <div class="text-center p-5">
          <p class="text-muted">{% trans "Chưa có combo nào đang được ưu đãi." %}</p>
        </div>
      {% endif %}
    </div>
  </section>

  <!-- Featured Destinations Section -->
  <section id="featured-destinations" class="featured-destinations section">

    <div class="container section-title" data-aos="fade-up">
      <h2>{% trans "Các dịch vụ tại" %}</h2>
      <div><span>{% trans "Khu cafe lớn nhất Tả Van" %}</span> <span class="description-title">Wecamp Cafe Retreat</span></div>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="row g-4">

        <!-- ẨM THỰC TÂY BẮC -->
        <div class="col-lg-6">
          <div class="featured-destination h-100" data-aos="zoom-in" data-aos-delay="200">
            <div class="destination-overlay">
              <img src="{% static 'assets/img/travel/destination-3.webp' %}" alt="{% trans 'Ẩm Thực Tây Bắc' %}" class="img-fluid">
              <div class="destination-info">
                <span class="destination-tag">{% trans "Khám Phá" %}</span>
                <h3>{% trans "Ẩm Thực Tây Bắc" %}</h3>
                <p class="location"><i class="bi bi-geo-alt-fill"></i> Wecamp Cafe Retreat</p>
                <p class="description">{% trans "Cơm lam, thịt nướng, lẩu thắng cố – đậm chất núi rừng." %}</p>
                <div class="destination-meta">
                  <div class="tours-count">
                    <i class="bi bi-fire text-danger"></i>
                    <span>{% trans "22 Đánh Giá" %}</span>
                  </div>
                  <div class="rating">
                    <i class="bi bi-star-fill text-warning"></i>
                    <span>4.9 (412)</span>
                  </div>
                </div>
                <div class="price-info">
                  <span class="starting-from">{% trans "Chỉ Từ" %}</span>
                  <span class="amount">100.000đ</span>
                </div>
                <a href="{% url 'meal' %}" class="explore-btn">
                  <span>{% trans "Đặt Ngay" %}</span>
                  <i class="bi bi-arrow-right"></i>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- 4 DỊCH VỤ NHỎ -->
        <div class="col-lg-6">
          <div class="row g-3">

            <!-- ĐỒ UỐNG -->
            <div class="col-12" data-aos="fade-left" data-aos-delay="300">
              <div class="compact-destination">
                <div class="destination-image">
                  <img src="{% static 'assets/img/travel/destination-7.webp' %}" alt="{% trans 'Đồ Uống' %}" class="img-fluid">
                  <div class="badge-offer bg-success text-white">{% trans "Mát Lạnh" %}</div>
                </div>
                <div class="destination-details">
                  <h4>{% trans "Đồ Uống Đa Dạng" %}</h4>
                  <p class="location"><i class="bi bi-cup-hot-fill"></i> Wecamp Cafe Retreat</p>
                  <p class="brief">{% trans "Cà phê, trà sữa, nước ép – mát lạnh bên suối." %}</p>
                  <div class="stats-row">
                    <span class="tour-count"><i class="bi bi-droplet-half text-primary"></i> {% trans "16 Đánh Giá" %}</span>
                    <span class="rating"><i class="bi bi-star-fill text-warning"></i> 4.8</span>
                    <span class="price">{% trans "Từ 25.000đ" %}</span>
                  </div>
                  <a href="{% url 'coffee' %}" class="quick-link">{% trans "Đặt Ngay" %} <i class="bi bi-chevron-right"></i></a>
                </div>
              </div>
            </div>

            <!-- NGHỈ DƯỠNG -->
            <div class="col-12" data-aos="fade-left" data-aos-delay="400">
              <div class="compact-destination">
                <div class="destination-image">
                  <img src="{% static 'assets/img/travel/destination-11.webp' %}" alt="{% trans 'Nghỉ Dưỡng' %}" class="img-fluid">
                  <div class="badge-offer bg-info text-white">{% trans "View Suối" %}</div>
                </div>
                <div class="destination-details">
                  <h4>{% trans "Nghỉ Dưỡng Cắm Trại" %}</h4>
                  <p class="location"><i class="bi bi-geo-alt-fill"></i> Wecamp Cafe Retreat</p>
                  <p class="brief">{% trans "Lều đôi, lều gia đình – đầy đủ tiện ích." %}</p>
                  <div class="stats-row">
                    <span class="tour-count"><i class="bi bi-moon-stars text-primary"></i> {% trans "9 Đánh Giá" %}</span>
                    <span class="rating"><i class="bi bi-star-fill text-warning"></i> 4.7</span>
                    <span class="price">{% trans "Từ 150.000đ" %}</span>
                  </div>
                  <a href="{% url 'tent' %}" class="quick-link">{% trans "Đặt Ngay" %} <i class="bi bi-chevron-right"></i></a>
                </div>
              </div>
            </div>

            <!-- NGÂM CHÂN & LỬA TRẠI -->
            <div class="col-12" data-aos="fade-left" data-aos-delay="500">
              <div class="compact-destination">
                <div class="destination-image">
                  <img src="{% static 'assets/img/travel/destination-16.webp' %}" alt="{% trans 'Ngâm Chân & Lửa Trại' %}" class="img-fluid">
                  <div class="badge-offer bg-relax text-white">{% trans "Thư Giãn" %}</div>
                </div>
                <div class="destination-details">
                  <h4>{% trans "Ngâm Chân & Lửa Trại" %}</h4>
                  <p class="location"><i class="bi bi-droplet text-success"></i> Wecamp Cafe Retreat</p>
                  <p class="brief">{% trans "Thảo mộc thư giãn + lửa trại + nướng kẹo dẻo." %}</p>
                  <div class="stats-row">
                    <span class="tour-count"><i class="bi bi-fire text-danger"></i> {% trans "11 Đánh Giá" %}</span>
                    <span class="rating"><i class="bi bi-star-fill text-warning"></i> 4.9</span>
                    <span class="price">{% trans "Từ 150.000đ" %}</span>
                  </div>
                  <a href="{% url 'herbal_foot_soak' %}" class="quick-link">{% trans "Đặt Ngay" %} <i class="bi bi-chevron-right"></i></a>
                </div>
              </div>
            </div>

            <!-- VẼ TRANH & TÔ TƯỢNG -->
            <div class="col-12" data-aos="fade-left" data-aos-delay="600">
              <div class="compact-destination">
                <div class="destination-image">
                  <img src="{% static 'assets/img/travel/destination-16.webp' %}" alt="{% trans 'Vẽ Tranh & Tô Tượng' %}" class="img-fluid">
                  <div class="badge-offer bg-warning text-white">{% trans "Sáng Tạo" %}</div>
                </div>
                <div class="destination-details">
                  <h4>{% trans "Vẽ Tranh & Tô Tượng" %}</h4>
                  <p class="location"><i class="bi bi-palette-fill"></i> Wecamp Cafe Retreat</p>
                  <p class="brief">{% trans "Hoạt động nghệ thuật cho trẻ em & gia đình." %}</p>
                  <div class="stats-row">
                    <span class="tour-count"><i class="bi bi-brush text-success"></i> {% trans "14 Đánh Giá" %}</span>
                    <span class="rating"><i class="bi bi-star-fill text-warning"></i> 4.8</span>
                    <span class="price">{% trans "Từ 80.000đ" %}</span>
                  </div>
                  <a href="{% url 'art_activity' %}" class="quick-link">{% trans "Đặt Ngay" %} <i class="bi bi-chevron-right"></i></a>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Blog Posts -->
  <section id="blog-posts" class="blog-posts section">
    <div class="container section-title" data-aos="fade-up">
      <h2>{% trans "Bài Viết" %}</h2>
      <div><span>{% trans "Cập nhật thông tin mới nhất tại " %}</span> <span class="description-title">Wecamp Cafe Retreat</span></div>
    </div>
    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="row gy-4">
        {% for post in latest_posts %}
        <div class="col-lg-4">
          {% include 'blogs/_post_card.html' %}
        </div>
        {% empty %}
        <div class="col-12 text-center">
          <p class="text-muted">{% trans "Chưa có bài viết nào." %}</p>
        </div>
        {% endfor %}
      </div>

      <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="500">
        <a href="{% url 'blog' %}" class="btn btn-explore">{% trans "Xem Tất Cả Bài Viết" %}</a>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section id="testimonials-home" class="testimonials-home section">
    <div class="container section-title" data-aos="fade-up">
      <h2>{% trans "Đánh Giá Của Khách Hàng" %}</h2>
      <div><span>{% trans "Khách Hàng Nói Gì Về" %}</span> <span class="description-title">Wecamp Cafe Retreat</span></div>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="swiper init-swiper">
        <script type="application/json" class="swiper-config">
          { "loop": true, "speed": 600, "autoplay": { "delay": 5000 }, "slidesPerView": "auto", "pagination": { "el": ".swiper-pagination", "type": "bullets", "clickable": true }, "breakpoints": { "320": { "slidesPerView": 1, "spaceBetween": 40 }, "1200": { "slidesPerView": 3, "spaceBetween": 20 } } }
        </script>
        <div class="swiper-wrapper">
          {% for review in featured_reviews %}
          <div class="swiper-slide">
            <div class="testimonial-item">
              <div class="review-header d-flex justify-content-between align-items-center mb-3">
                <span class="badge bg-light text-dark px-3 py-1">{{ review.get_service_display }}</span>
                <div class="stars text-warning fs-5">
                  {% for i in "12345" %}
                    {% if forloop.counter <= review.rating %}
                      <i class="bi bi-star-fill"></i>
                    {% else %}
                      <i class="bi bi-star"></i>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
              <p class="mb-4">
                <i class="bi bi-quote quote-icon-left"></i>
                <span>{{ review.content|truncatewords:30 }}</span>
                <i class="bi bi-quote quote-icon-right"></i>
              </p>
              <div class="mt-auto text-center">
                <div class="d-flex flex-column align-items-center">
                  {% if review.photo %}
                    <img src="{{ review.photo.url }}" class="testimonial-img rounded-circle mb-3" alt="{{ review.name }}" style="width: 70px; height: 70px; object-fit: cover; border: 3px solid #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                  {% else %}
                    <img src="{% static 'assets/img/person/default-avatar.webp' %}" class="testimonial-img rounded-circle mb-3" alt="{% trans 'Khách hàng' %}" style="width: 70px; height: 70px; object-fit: cover; border: 3px solid #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                  {% endif %}
                  <h3 class="h5 mb-1 fw-bold">{{ review.name }}</h3>
                  <small class="text-muted">{% trans "Khách hàng tại Wecamp" %}</small>
                </div>
              </div>
            </div>
          </div>
          {% empty %}
          <div class="swiper-slide">
            <div class="text-center p-5">
              <p class="text-muted">{% trans "Chưa có đánh giá nào được hiển thị." %}</p>
            </div>
          </div>
          {% endfor %}
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </div>
  </section>

  <!-- Booking Form -->
  <section id="booking" class="service-booking section bg-light">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="booking-card p-5 rounded-4 shadow-lg" data-aos="zoom-in">
            <h3 class="text-center mb-4">{% trans "Gửi Thông Tin Đặt Combo" %}</h3>
            
            {% if messages %}
              {% for message in messages %}
                <div class="alert alert-{{ message.tags }} text-center">{{ message }}</div>
              {% endfor %}
            {% endif %}

            <form method="post">
              {% csrf_token %}
              <input type="hidden" name="service" value="combo">
              <div class="row g-3">
                <div class="col-md-6">
                  <input type="text" name="name" class="form-control" placeholder="{% trans 'Họ & Tên' %}" required>
                </div>
                <div class="col-md-6">
                  <input type="tel" name="phone" class="form-control" placeholder="{% trans 'Số điện thoại' %}" required>
                </div>
                <div class="col-md-6">
                  <input type="date" name="date" class="form-control" required>
                </div>
                <div class="col-md-6">
                  <input type="time" name="time" class="form-control" required>
                </div>
                <div class="col-12">
                  <textarea name="note" class="form-control" rows="3" placeholder="{% trans 'Ghi chú (số người, combo...)' %}"></textarea>
                </div>
                <div class="col-12 text-center">
                  <button type="submit" class="btn btn-explore btn-lg px-5">{% trans "Gửi Yêu Cầu" %}</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

{% endblock %}